<!doctype html>
<html>
<head>
<title>LogCAS: Log Collecting and Analyzing System for OpenStack</title>
<link rel=stylesheet type=text/css href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class=page>
  <h1>LogCAS: Log Collecting and Analyzing System for OpenStack</h1>
  {% for message in get_flashed_messages() %}
    <div class=flash>{{ message }}</div>
  {% endfor %}
  <div class="mode">
      {%- if not limit -%}
      {%- set limit = 100 -%}
      {%- endif -%}
      {%- set tabs = [('Requests', '_request_index', 30),
                      ('Logs', '_log_index', 30),
                      ('Requests(Archived)', '_archived_request_index', 10),
                      ('Logs(Archived)', '_archived_log_index', 30)] -%}
      {%- for display, method, levelno in tabs -%}
      {%- set selected = "" -%}
      {%- if request.path.startswith(url_for(method)) -%}
      {%- set selected = "selected" -%}
      {%- endif %}
      <a class="{{selected}}" href="{{ url_for(method, limit=limit, levelno=levelno) }}">{{display}}</a>
      {%- endfor -%}
  </div>
  <div class="body">
    <div class="query">
      <form method="GET">
      <input type="text" size="3" maxlength="3" name="limit" value="{{ limit }}" /> entries per page
      {%- if forms -%}
      {%- for form in forms.levelno -%}
      <span>{{ form }}<label for="r{{key}}">{{form.label}}</label></span>
      {%- endfor -%}
      {%- endif -%}
      {%- if created -%}
      <input type="hidden" name="created" value="{{created}}"/>
      <input type="text" size="3" maxlength="3" name="span" value="{{ span }}" /> seconds
      {%- endif -%}
      <input type="submit"/>
      </form>
    </div>
    {% block body %}{% endblock %}
  </div>
</div>
</body>
</html>
